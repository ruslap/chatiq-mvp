# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —à–∞–±–ª–æ–Ω—ñ–≤ –¥–ª—è –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ

–¢–µ–ø–µ—Ä **–≤—Å—ñ –Ω–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—é—Ç—å:

### üì¶ –î–µ—Ñ–æ–ª—Ç–Ω–∏–π —Å–∞–π—Ç
- –ù–∞–∑–≤–∞: "–ú—ñ–π –ø–µ—Ä—à–∏–π —Å–∞–π—Ç"
- –î–æ–º–µ–Ω: example.com (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ)

### üìù 6 –®–≤–∏–¥–∫–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤ (Quick Templates)
1. **–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è** (`/hello`) - "–í—ñ—Ç–∞—é! –ß–∏–º –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏?"
2. **–ó–∞–ø–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω—É** (`/phone`) - "–ó–∞–ª–∏—à—Ç–µ, –±—É–¥—å –ª–∞—Å–∫–∞, –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É..."
3. **–ü–æ–¥—è–∫–∞** (`/thanks`) - "–î—è–∫—É—î–º–æ –∑–∞ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è! –Ø–∫—â–æ –≤–∏–Ω–∏–∫–Ω—É—Ç—å –ø–∏—Ç–∞–Ω–Ω—è..."
4. **–£—Ç–æ—á–Ω–µ–Ω–Ω—è** (`/clarify`) - "–ß–∏ –º–æ–∂–µ—Ç–µ —É—Ç–æ—á–Ω–∏—Ç–∏ –≤–∞—à–µ –ø–∏—Ç–∞–Ω–Ω—è?..."
5. **–ß–∞—Å —Ä–æ–±–æ—Ç–∏** (`/hours`) - "–ú–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ 9:00 –¥–æ 18:00, –ü–Ω-–ü—Ç..."
6. **–û—á—ñ–∫—É–≤–∞–Ω–Ω—è** (`/wait`) - "–û–¥–Ω—É —Ö–≤–∏–ª–∏–Ω–∫—É, –∑–∞—Ä–∞–∑ —É—Ç–æ—á–Ω—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é..."

### ü§ñ 4 –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (Auto Replies)
1. **–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è** (first_message) - –í—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ
2. **–ó–∞—Ç—Ä–∏–º–∫–∞ 5 —Ö–≤** (no_reply_5min) - –ü—ñ—Å–ª—è 5 —Ö–≤–∏–ª–∏–Ω –±–µ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
3. **–ó–∞—Ç—Ä–∏–º–∫–∞ 10 —Ö–≤** (no_reply_10min) - –ü—ñ—Å–ª—è 10 —Ö–≤–∏–ª–∏–Ω –±–µ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
4. **–û—Ñ–ª–∞–π–Ω** (offline) - –ö–æ–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ –≤ –º–µ—Ä–µ–∂—ñ

### ‚è∞ –ë—ñ–∑–Ω–µ—Å-–≥–æ–¥–∏–Ω–∏
- –ß–∞—Å–æ–≤–∏–π –ø–æ—è—Å: Europe/Kyiv
- –ü–Ω-–ü—Ç: 9:00 - 18:00 (—É–≤—ñ–º–∫–Ω–µ–Ω–æ)
- –°–±-–ù–¥: 10:00 - 15:00 (–≤–∏–º–∫–Ω–µ–Ω–æ)

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏

1. **`api-server/src/sites/sites.module.ts`**
   - –î–æ–¥–∞–Ω–æ –µ–∫—Å–ø–æ—Ä—Ç `SitesService`

2. **`api-server/src/auth/auth.module.ts`**
   - –î–æ–¥–∞–Ω–æ —ñ–º–ø–æ—Ä—Ç–∏ `SitesModule` —Ç–∞ `AutomationModule`

3. **`api-server/src/auth/auth.service.ts`**
   - –î–æ–¥–∞–Ω–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ `SitesService` —Ç–∞ `AutomationService`
   - –î–æ–¥–∞–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –º–µ—Ç–æ–¥ `createDefaultSite(userId: string)`
   - –û–Ω–æ–≤–ª–µ–Ω–æ `register()` - –≤–∏–∫–ª–∏–∫–∞—î `createDefaultSite()` –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó
   - –û–Ω–æ–≤–ª–µ–Ω–æ `validateGoogleUser()` - –≤–∏–∫–ª–∏–∫–∞—î `createDefaultSite()` –¥–ª—è –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

```typescript
private async createDefaultSite(userId: string): Promise<void> {
    // 1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –≤–∂–µ —î —Å–∞–π—Ç–∏ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    const existingSites = await this.prisma.site.count({
        where: { ownerId: userId },
    });

    // 2. –Ø–∫—â–æ —î - –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
    if (existingSites > 0) return;

    // 3. –°—Ç–≤–æ—Ä—é—î–º–æ –¥–µ—Ñ–æ–ª—Ç–Ω–∏–π —Å–∞–π—Ç
    const site = await this.sitesService.createSite(
        userId,
        '–ú—ñ–π –ø–µ—Ä—à–∏–π —Å–∞–π—Ç',
        'example.com',
    );

    // 4. –°—Ç–≤–æ—Ä—é—î–º–æ —à–∞–±–ª–æ–Ω–∏ —Ç–∞ –∞–≤—Ç–æ–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
    await this.automationService.seedDefaultAutoReplies(site.id);
    await this.automationService.seedDefaultQuickTemplates(site.id);
    
    // 5. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –±—ñ–∑–Ω–µ—Å-–≥–æ–¥–∏–Ω–∏
    await this.automationService.getBusinessHours(site.id);
}
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç

–ó–∞–ø—É—Å—Ç—ñ—Ç—å API —Å–µ—Ä–≤–µ—Ä —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç:

```bash
# –í –æ–¥–Ω–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
cd /home/ubuntuvm/Projects/ruslap/chatiq-mvp/api-server
npm run start:dev

# –í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
cd /home/ubuntuvm/Projects/ruslap/chatiq-mvp/api-server
./test-default-templates.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –°—Ç–≤–æ—Ä–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ —Å–∞–π—Ç—É
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å –Ω–∞—è–≤–Ω—ñ—Å—Ç—å 6 —à–≤–∏–¥–∫–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å –Ω–∞—è–≤–Ω—ñ—Å—Ç—å 4 –∞–≤—Ç–æ–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –í–∏–≤–µ–¥–µ –¥–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç

### –†—É—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### 1. –¢–µ—Å—Ç —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ email/password

```bash
curl -X POST http://localhost:3000/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "newuser@example.com",
    "password": "password123",
    "name": "New User"
  }'
```

#### 2. –¢–µ—Å—Ç –≤—Ö–æ–¥—É —á–µ—Ä–µ–∑ Google OAuth

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Admin Panel: `http://localhost:3001`
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Sign in with Google"
3. –£–≤—ñ–π–¥—ñ—Ç—å –∑ –Ω–æ–≤–∏–º Google –∞–∫–∞—É–Ω—Ç–æ–º
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏–≤—Å—è —Å–∞–π—Ç –∑ —à–∞–±–ª–æ–Ω–∞–º–∏

#### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ Admin Panel

1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ Admin Panel
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ **Sites** - –º–∞—î –±—É—Ç–∏ "–ú—ñ–π –ø–µ—Ä—à–∏–π —Å–∞–π—Ç"
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ **Automation** ‚Üí **Quick Templates** - –º–∞—î –±—É—Ç–∏ 6 —à–∞–±–ª–æ–Ω—ñ–≤
4. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ **Automation** ‚Üí **Auto Replies** - –º–∞—î –±—É—Ç–∏ 4 –∞–≤—Ç–æ–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

## –ü–µ—Ä–µ–≤–∞–≥–∏

‚úÖ **–ú–∏—Ç—Ç—î–≤–∏–π —Å—Ç–∞—Ä—Ç** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –æ–¥—Ä–∞–∑—É –ø–æ—á–∞—Ç–∏ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏  
‚úÖ **–ì–æ—Ç–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏** - –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑ –Ω—É–ª—è  
‚úÖ **–Ñ–¥–∏–Ω–∏–π –¥–æ—Å–≤—ñ–¥** - –≤—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π –Ω–∞–±—ñ—Ä  
‚úÖ **–õ–µ–≥–∫–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏** - –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –±—É–¥—å-—è–∫–∏–π —à–∞–±–ª–æ–Ω  
‚úÖ **–ë–µ–∑–ø–µ—á–Ω–æ** - —è–∫—â–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∞–π—Ç—É –Ω–µ –≤–¥–∞—Å—Ç—å—Å—è, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤—Å–µ –æ–¥–Ω–æ –ø—Ä–æ–π–¥–µ  

## –ü—Ä–∏–º—ñ—Ç–∫–∏

- –î–µ—Ñ–æ–ª—Ç–Ω–∏–π —Å–∞–π—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ —è–∫—â–æ** —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —â–µ –Ω–µ–º–∞—î –∂–æ–¥–Ω–æ–≥–æ —Å–∞–π—Ç—É
- –Ø–∫—â–æ –≤–∏–Ω–∏–∫–Ω–µ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Å–∞–π—Ç—É, –≤–æ–Ω–∞ –ª–æ–≥—É—î—Ç—å—Å—è –∞–ª–µ –Ω–µ –±–ª–æ–∫—É—î —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é
- –®–∞–±–ª–æ–Ω–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ–π –º–æ–≤—ñ
- –í—Å—ñ —à–∞–±–ª–æ–Ω–∏ –∞–∫—Ç–∏–≤–Ω—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤–∏–¥–∞–ª–∏—Ç–∏, –∑–º—ñ–Ω–∏—Ç–∏ –∞–±–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏ –≤ –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç
